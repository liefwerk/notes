<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Security Rules</title>
</head><body><b>Firestore Security Rules<br/>
<br/>
</b>There are a way to hide our data, documents from others.<br/>
<br/>
To access the Rules in the Firebase Console, we go to the Database tab and Rules.<br/>
The way we declare rules is to match certain paths and declare rules for these paths (a bit like linux).<br/>
<br/>
<tt><span style="color: #00007f">service cloud.firestore {}</span></tt>&nbsp;stores rules for the firestore only.<br/>
<br/>
<span style="color: #00007f"><tt>match /databases/{database}/documents {}</tt>&nbsp;</span>means that rule should reach any firestore database in our project<br/>
<br/>
<tt><span style="color: #00007f">match /{document=**}{} </span></tt>is saying match any documents in the database<br/>
<br/>
and the rules applied say this: <tt><span style="color: #00007f">allow read, write: if request.time &lt; timestamp.date(2020, 5, 27);<br/>
</span></tt>which allow anyone to rad and write our documents. Once we go into production, we have to update them.<br/>
<br/>
Here's the rules that we'll add<br/>
<br/>
<tt><span style="color: #00007f">match /projects/{project} {<ul><li style="list-style-type: none">allow read, write: if request.auth.uid != null</li>
</ul>
}<br/>
match /users/{userId} {<ul><li style="list-style-type: none">allow create</li>
<li style="list-style-type: none">allow read: if request.auth.uid != null</li>
<li style="list-style-type: none">allow write: if request.auth.uid == userId</li>
</ul>
</span></tt><tt><span style="color: #00007f">}</span></tt><br/>
</body></html>